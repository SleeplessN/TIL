# 2022/08/19

## 오늘 공부한 내용

### [this](https://github.com/SleeplessN/TIL/blob/main/Javascript/Javascript%20DeepDive/22%EC%9E%A5%20this.md)

## 수업 내용

- 아스키코드가 뭐고 유니코드는 왜 사용해야하는지 정도는 알아야한다.
  - **아스키코드**
    - 사람이 이해할 수 있는 문자를 컴퓨터가 이해할 수 있는 기계 코드(숫자)로 변환한 것이다.
  - **유니코드**
    - 영어 밖에 변환할 수 없는 아스키 코드의 단점으로 인해 만들어졌다.
    - 다양한 언어 뿐문아니라 이모티콘까지도 표에 담은 형태를 유니코드 셋이라고 한다
  - **UTF-8**
    - 가장 보편적으로 쓰이는 8비트에 문자를 담는 것을 의미한다
    - 이것은 아스키 코드의 표현과 연관이 있다.
- **렉시컬 스코프**란 상위 스코프를 결정하는 방식
  - 자바스크립트는 함수를 호출하는 경우가 아닌 함수를 정의된 곳 기준이다.
- 다음의 함수는 일반함수? 메서드? 생성자 함수?
  ```jsx
  const foo = function () {
    console.dir(this);
  };
  ```
  - 답은..? 호출하는 방식에 따라 다르다.
    - 일반 함수로 호출하면 일반 함수
    - 메서드로 호출하면 메서드
    - 생성자 함수로 호출하면 생성자 함수이다.
- **this**가 만들어진 이유?
  - 아직 생성되지 않은 미래 시점의 식별자를 참조하기 위해서
- 객체를 재귀적으로 호출하는 것의 문제점
  - 객체 식별자를 통해서만 접근할 수 있기에 함수가 객체에 종속되는 문제가 발생
- **this** 불일치
  - this의 불일치란?
    - 외부 함수와 내부의 중첩 함수가 가리키는 this가 다른 현상
  - this의 불일치의 문제점
    - 중첩 함수는 외부 함수의 일부로서 로직을 수행하므로 외부 함수와 문맥이 같아야 하지만, 문맥이 달라지는 문제가 발생
  - **this의 불일치 해결 방법** (핵심)
    - 변수this를 that과 같은 변수에 할당해주는 방법
    - bind 메서드로 명시적으로 바인딩 하는 방법
    - **가장 좋은건 화살표 함수이다.**
- 다음 setTimeout 예제를 살펴보자

  ```jsx
  var value = 1;

  const obj = {
  	value : 100,
  	foo() {
  		console.log("foo's this: ", this); // {value: 100, foo: f}

  		setTimeout(function. () {
  			console.log("callback's this: ", this); // window
  			console.log("callback's this.value: ", this.value); // 1
  		}, 100);
  	}
  };

  obk.foo();
  ```

  - **setTimeout 첫번째 인자로 받는 함수**는 `setTimeout` 함수 내부에 있느냐?
    - 아니다! `setTimeout` 함수와 동일하게 foo 함수를 상위스코프로 갖는다.
  - `setTimeout`은 첫번째 인자로 받은 함수를 호출하는 것이 아닌 뒤에 적힌 시간만큼만 delay하는 역할
    - (그 delay를 바라보다가) **실제로 호출하는 것은 브라우저이다.**

- apply, call 의 본질은 호출이 목적, bind는 해당 함수를 복사하고 일치 시켜주는 것이 목적
- **`[…]`** 스프레드 문법 (`…`) 뒤에는 아무거나 올 수 있는 것이 아니라 **이터러블**만이 올 수 있다.

## 느낀점

- 아스키 코드가 컴퓨터가 이해할 수 있도록 가장 많이 사용하는 문자 인코딩 방식으로만 알고 있었지만, 아스키 코드 방식과 1byte 단위가 주가 된 것이 연관이 있고, 또한 html에서 많이 보던 UTF-8 인코딩 방식과도 연관되어있다는 사실을 알게 되었다. 그리고 this의 바인딩 방식에 대해서 알게 되었고, 이 this의 핵심은 this의 불일치를 해결하는 방법인데 이 방법 중 베스트인 화살표 함수 부분을 배우게 되면 더 명확해 질 것 같다.
