# 2022/09/19

## 오늘 공부한 내용

- 좋은 코드란 사람마다 기준이 다르다.
- 좋은 코드의 기준은 시간이 갈수록 바뀐다.
- 좋은 코드란 무엇인지 모르겠다면 다른 사람들이 작성한 코드를 보도록 하자.
- 근거를 가지고 일관성있게 코드를 작성하는 것이 중요하다.
- 중복을 피하기 위해서 함수를 작성하였다가 오히려 다른 사람이 그 코드를 볼 때, 한 번 더 생각해야 하는 경우가 생길 수도 있다.
- 응집도 있는 코드를 작성해야 한다.
    - 특정 목적을 위해서 밀접하게 연관된 기능들을 한데 모아 관리하면 해당 함수에 대한 이해도가 증가하게 되고 이는 유지보수성을 높이는데 도움이 된다. 또한 코드의 재사용성도 증가하는 장점도 존재한다.

### 우리의 코딩 컨벤션

1. 이벤트 리스너는 한줄로 작성하도록 하여 가독성을 높인다.
    
    ```jsx
    // Worst
    document.querySelector('.popup-form').addEventListener('submit', e => {
    	popupModal.render(e)
    });
    
    // Best
    document.querySelector('.popup-form').addEventListener('submit', popupModal.render);
    ```
    
    - 지금은 한 가지의 기능을 위해서만 이벤트를 등록하였지만, 실제로는 정말 다양한 이벤트들이 등록되어 있을 것이다.
    - 사용자에 의해서 이벤트가 발생하였을 때, 두번째 인자로 들어온 함수가 실행되는데 그 길이가 길다면 여러 개의 이벤트가 존재할 때 가독성이 좋지 않다고 생각하였다
    - Best와 같이 함수의 이름을 명확하게 작성하여 ‘`popup-form에서 submit 하였을 때 popupModal.render 함수가 실행되도록 이벤트를 등록했다`’ 와 같이 한 줄로 해석이 되도록 구현하는 것이 가독성이 좋다고 생각하였다.
2. early return은 작성
    
    ```jsx
    document.querySelector('.modal').addEventListener('click', e => {
      if (!e.target.matches('.is-close')) return;
    
      popupModal.remove();
    });
    ```
    
    - 1번 컨벤션을 위해서 가능한 함수 내에서 조건문을 수행하도록 작성을 하였는데,
    - 1번에 의하면 modal을 클릭하면 popupModal.remove가 실행된다 인데, 사실상 is-close 인 경우에만 실행이 되어야 한다.
    - 즉, Early return을 함수 내에 따로 작성하게되면 이 이벤트 등록만을 보았을 때 혼란을 줄 수 있기 때문에 early return은 작성해주도록한다.
    - `클래스가 is-close인 경우에만 클릭하였을 때 popupModal.remove가 실행되도록 이벤트를 등록했다.`
3. 한번만 호출되는지 여러번 호출되는지를 판단하여 변수에 담을지를 생각하여 작성한다.
    - 지금까지는 document.querySelector()가 단순히 코드 내에서 두 번 이상 사용될 경우에만 변수에 등록하여 사용하였다.
    - 하지만, 이벤트 핸들러와 같이 이벤트가 발생하면 반복적으로 발생되는 경우에는 해당 함수 내에document.querySelector()가 존재한다면 이벤트가 발생할 때마다 이 메서드가 호출될 것이다.
    - 이 경우에는 변수에 document.querySelector() 이 내용을 담아둔다면 메서드 호출 없이 그 내용을 담고 있는 변수를 가져와서 불필요한 함수 호출을 막을 수 있다.
    - 그러므로, 함수 내에서 여러번 사용될 경우뿐만 아니라 여러번 호출되는지 판단하여 변수에 담도록 한다.

## 느낀점

- 리팩토링을 진행하며, 단순히 여러번 반복된다는 이유로 함수로 만들었는데 함수로 만들게 되면 다른 사람이 그것을 볼 때 함수에 대해서 한 번 더 생각하도록 한다는 점에서 오히려 좋지 않을 수 있다는 점을 깨달았다. 그리고 우리가 계속 리팩토링을 하는데 있어서 코드를 보고 불편함을 느낀다면 그것은 좋은 코드로의 발전이 된다는 의미이므로 좋은 현상이라 느껴졌다. 그래서 다른 사람의 코드를 찾아보며 좋은 점은 적용시키고, 내 방식이 더 좋다 느껴지면 그것은 그대로 가져가면 되는 것이다. 이 점을 느끼고 우리는 우리만의 근거있는 코딩 컨벤션을 하나 하나 작성하게 되었고, 컨벤션을 바탕으로 일관성있게 작성한다면 가독성은 챙겨가지 않을까 생각이 들었다. 리팩토링을 하루종일 진행하며 느껴진 점이 코드를 돌아가도록 작성하는 것은 쉽지만, 구현보다 오히려 리팩토링 과정이 더 길었고 좋은 코드를 작성하는 것은 정말 쉬운 일이 아니라는 생각이 들엇다.