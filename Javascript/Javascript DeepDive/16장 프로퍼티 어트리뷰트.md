# 16ì¥. í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸

## ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ ë‚´ë¶€ ë©”ì„œë“œ

- ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë‚´ë¶€ ìŠ¬ë¡¯(internal slot)ê³¼ ë‚´ë¶€ ë©”ì„œë“œ(internal method)ëŠ” **ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì—”ì§„ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ì„¤ëª…í•˜ê¸° ìœ„í•´** ECMAScriptì—ì„œ ì‚¬ìš©í•˜ëŠ” ì˜ì‚¬ í”„ë¡œí¼í‹°(pseudo property)ì™€ ì˜ì‚¬ ë©”ì„œë“œ(pseudo method)ì´ë‹¤.
- ì´ëŠ” ECMAScriptì— ì´ì¤‘ ëŒ€ê´„í˜¸(`[[â€¦]]`)ë¡œ ê°ì‹¸ì„œ í‘œí˜„ë˜ë©° ì—”ì§„ì—ì„œ ì‹¤ì œë¡œ ë™ì‘í•˜ì§€ë§Œ ê°œë°œìê°€ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì™¸ë¶€ì— ê³µê°œëœ ê²ƒì€ ì•„ë‹ˆë‹¤.
- ì›ì¹™ì ìœ¼ë¡œ ì ‘ê·¼í•˜ê±°ë‚˜ í˜¸ì¶œí•  ë°©ë²•ì´ ì œê³µë˜ì§€ ì•Šìœ¼ë‚˜ ì¼ë¶€ ë‚´ë¶€ ìŠ¬ë¡¯, ë‚´ë¶€ ë©”ì„œë“œì˜ í•œí•˜ì—¬ ê°„ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìˆ˜ë‹¨ì„ ì œê³µí•œë‹¤.

  ```jsx
  const o = {};
  o.[[prototype]]// Uncaught SyntaxError: Unexpected token '['
  o.__proto__// Object.prototype

  ```

## í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ì™€ í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´

- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ í”„ë¡œí¼í‹°ë¥¼ ìƒì„±í•  ë•Œ í”„ë¡œí¼í‹°ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ìë™ ì •ì˜ í•œë‹¤
- í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” ë‚´ë¶€ ìƒíƒœ ê°’ì¸ ë‚´ë¶€ ìŠ¬ë¡¯ì´ê¸° ë•Œë¬¸ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ê³ `Object.getOwnPropertyDescriptor` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ì ‘ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
- í”„ë¡œí¼í‹°ëŠ” **ë°ì´í„° í”„ë¡œí¼í‹°**ì™€ **ì ‘ê·¼ì í”„ë¡œí¼í‹°**ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.

### **ê³µìœ  í”„ë¡œí¼í‹°**

ë°ì´í„° í”„ë¡œí¼í‹°ì™€ ì ‘ê·¼ì í”„ë¡œí¼í‹°ëŠ” ë‹¤ìŒì˜ ë‘ ê°€ì§€ í‚¤ë¥¼ ê³µìœ í•œë‹¤.

| í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ | ë””ìŠ¤í¬ë¦½í„° ê°ì²´ í”„ë¡œí¼í‹° | ì„¤ëª…                                  |
| ------------------- | ------------------------ | ------------------------------------- |
| `[[Configurable]]`  | configurable             | í”„ë¡œí¼í‹° ì¬ì •ì˜ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. |
| `[[Enumerable]]`    | enumerable               | í”„ë¡œí¼í‹° ì—´ê±° ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.   |

### ë°ì´í„° í”„ë¡œí¼í‹°

| í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ | ë””ìŠ¤í¬ë¦½í„° ê°ì²´ í”„ë¡œí¼í‹° | ì„¤ëª…                                       |
| ------------------- | ------------------------ | ------------------------------------------ |
| `[[Value]]`         | value                    | í”„ë¡œí¼í‹° í‚¤ë¥¼ í†µí•´ ê°’ì— ì ‘ê·¼í•˜ë©´ ë°˜í™˜ëœ ê°’ |
| `[[Writable]]`      | writable                 | í”„ë¡œí¼í‹° ê°’ì˜ ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.   |

```jsx
const person = {
	name = 'Lee'
};

// í”„ë¡œí¼í‹° ë™ì  ìƒì„±
person.age = 20;

// í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ë¥¼ ì·¨ë“í•œë‹¤.
console.log(Object.getOwnPropertyDescriptor(person, 'name'));
// {value: "Lee", writable: true, enumerable: true, configurable: true}

console.log(Object.getOwnPropertyDescriptors(person));
/*
{
	name: {value: "Lee", writable: true, enumerable: true, configurable: true}
	age: {value: "20", writable: true, enumerable: true, configurable: true}
}
*/
```

- í”„ë¡œí¼í‹°ê°€ ìƒì„±ë  ë•Œ `[[value]]` ê°’ì€ **í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ ì´ˆê¸°í™” ëœë‹¤**
- í”„ë¡œí¼í‹°ê°€ ìƒì„±ë  ë•Œ `[[Writable]]`, `[[Enumerable]]`, `[[Configurable]]` ì˜ ê°’ì€ `true`**ë¡œ ì´ˆê¸°í™” ëœë‹¤.**

### ì ‘ê·¼ì í”„ë¡œí¼í‹°

| í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ | ë””ìŠ¤í¬ë¦½í„° ê°ì²´ í”„ë¡œí¼í‹° | ì„¤ëª…                                                                         |
| ------------------- | ------------------------ | ---------------------------------------------------------------------------- |
| `[[Get]]`           | get                      | ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ë°ì´í„° í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì½ì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì ‘ê·¼ì í•¨ìˆ˜   |
| `[[Set]]`           | set                      | ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ë°ì´í„° í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì €ì¥í•  ë•Œ í˜¸ì¶œë˜ëŠ” ì ‘ê·¼ì í•¨ìˆ˜ |

- ì ‘ê·¼ì í”„ë¡œí¼í‹°ëŠ” ìì²´ì ìœ¼ë¡œëŠ” ê°’ì„ ê°–ì§€ ì•Šê³  ë‹¤ë¥¸ ë°ì´í„° í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì½ê±°ë‚˜ ì €ì¥í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì ‘ê·¼ì í•¨ìˆ˜ë¡œ êµ¬ì„±ëœ í”„ë¡œí¼í‹°ë‹¤.
- ì ‘ê·¼ì í•¨ìˆ˜ëŠ” getter / setter í•¨ìˆ˜ë¼ê³ ë„ ë¶€ë¥¸ë‹¤.
- getteì™€ setter í•¨ìˆ˜ ëª¨ë‘ ì •ì˜í•  ìˆ˜ë„ ìˆê³  í•˜ë‚˜ë§Œ ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤.

```jsx
const person = {
  firstName: "Heejun",
  lastName: "Jeon",

  // getter í•¨ìˆ˜
  get fullname() {
    return `${this.firstName} ${this.lastName}`;
  },

  // setter í•¨ìˆ˜
  set fullName(name) {
    // ë°°ì—´ ë””ìŠ¤íŠ¸ëŸ­ì²˜ë§ í• ë‹¹
    [this.firstName, this.lastName] = name.split(" ");
  },
};

// ë°ì´í„° í”„ë¡œí¼í‹°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ê°’ì˜ ì°¸ì¡°.
console.log(person.firstName + " " + person.lastName); // Heejun Jeon

// ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ê°’ì˜ ì €ì¥
// ì ‘ê·¼ì í”„ë¡œí¼í‹° fullNameì— ê°’ì„ ì €ì¥í•˜ë©´ setter í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.
person.fullName = "Minsu Kim";
console.log(person); // {firstName: "Minsu", lastName: "Kim"}

// ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ê°’ì˜ ì°¸ì¡°
// ì ‘ê·¼ì í”„ë¡œí¼í‹° fullNameì— ì ‘ê·¼í•˜ë©´ getter í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤
console.log(person.fullName); // Minsu Kim

// firstNameì€ ë°ì´í„° í”„ë¡œí¼í‹°ì´ë‹¤
// ë°ì´í„° í”„ë¡œí¼í‹°ëŠ” [[value]], [[Writable]], [[Enumerable]], [[Configurable]]
// í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê°–ëŠ”ë‹¤
let descriptor = Object.getOwnPropertyDescriptor(person, "firstName");
console.log(descriptor);
// {value: "Minsu", writable: true, enumerable: true, configurable: true}

// fullNameì€ ì ‘ê·¼ì í”„ë¡œí¼í‹°ì´ë‹¤
// ì ‘ê·¼ì í”„ë¡œí¼í‹°ëŠ” [[Get]], [[Set]], [[Enumerable]], [[Configurable]]
// í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê°–ëŠ”ë‹¤
descriptor = Object.getOwnPropertyDescriptor(person, "fullName");
console.log(descriptor);
// {get: f, set: f, enumerable: true, configurable: true}
```

- ë©”ì„œë“œ ì•ì— get, setì´ ë¶™ì€ ë©”ì„œë“œê°€ `getter / setter` í•¨ìˆ˜ì´ê³ , `getter / setter` í•¨ìˆ˜ ì´ë¦„ `fullName`ì´ ì ‘ê·¼ì í”„ë¡œí¼í‹°ë‹¤.
- ì ‘ê·¼ì í”„ë¡œí¼í‹°ëŠ” ìì²´ì ìœ¼ë¡œ ê°’ì„ ê°€ì§€ì§€ ì•Šìœ¼ë©° ë°ì´í„°ì˜ í”„ë¡œí¼í‹° ê°’ì„ ì½ê±°ë‚˜(get) ì €ì¥í•  ë•Œ(set) ê´€ì—¬í•  ë¿ì´ë‹¤.
- ë‚´ë¶€ ìŠ¬ë¡¯/ë©”ì„œë“œ ê´€ì ì—ì„œ ì ‘ê·¼ì í”„ë¡œí¼í‹° fullNameìœ¼ë¡œ í”„ë¡œí¼í‹° ê°’ì— ì ‘ê·¼í•˜ë©´ ë‚´ë¶€ì ìœ¼ë¡œ `[[Get]]` ë‚´ë¶€ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì–´ ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•œë‹¤.
  1. í”„ë¡œí¼í‹° í‚¤ê°€ ìœ íš¨í•œì§€ í™•ì¸ (í”„ë¡œí¼í‹° í‚¤ëŠ” ë¬¸ìì—´ ë˜ëŠ” ì‹¬ë²Œì´ì–´ì•¼ í•œë‹¤)
     â†’ ì—¬ê¸°ì„œ fullNameì€ ë¬¸ìì—´
  2. í”„ë¡œí† íƒ€ì… ì²´ì¸ì—ì„œ í”„ë¡œí¼í‹°ë¥¼ ê²€ìƒ‰í•œë‹¤.
     â†’ person ê°ì²´ì— fullName í”„ë¡œí¼í‹°ê°€ ì¡´ì¬
  3. ê²€ìƒ‰ëœ í”„ë¡œí¼í‹°ê°€ ë°ì´í„° í”„ë¡œí¼í‹°ì¸ì§€ ì ‘ê·¼ì í”„ë¡œí¼í‹°ì¸ì§€ í™•ì¸í•œë‹¤.
     â†’ fullName í”„ë¡œí¼í‹°ëŠ” ì ‘ê·¼ì í”„ë¡œí¼í‹°
  4. ì ‘ê·¼ì í”„ë¡œí¼í‹° fullNameì˜ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ `[[Get]]`ì˜ ê°’, ì¦‰ getter í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.
     â†’ `{get: f, set: f, enumerable: true, configurable: true}`ì˜ get í”„ë¡œí¼í‹° ê°’ê³¼ ë™ì¼
- ì¥ì 
  - í•¨ìˆ˜ë¡œ ì ‘ê·¼(`()`)ë¡œ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ì•„ë‹Œ í”„ë¡œí¼í‹°ë¡œ ì ‘ê·¼í•˜ê¸°ì— ë” ê°„ë‹¨í•œ êµ¬ë¬¸
  - ë” ë‚˜ì€ ë°ì´í„° í’ˆì§ˆì„ ë³´ì¥í•œë‹¤ (ì‚¬ìš©ìê°€ ê°’ì„ ì˜ëª»ì…ë ¥í•˜ëŠ” ê²ƒì„ ë°©ì§€í•´ì£¼ê±°ë‚˜ ëŒ€ë¬¸ìë¡œ ë³€ê²½í•˜ëŠ” ê²ƒ ë“±ì˜ ì‘ì—…ì„ í•´ì¤„ ìˆ˜ ìˆìŒ)

> ğŸ–Â **í”„ë¡œí† íƒ€ì…(prototype)ì´ë€?**
> í”„ë¡œí† íƒ€ì…ì€ ì–´ë–¤ ê°ì²´ì˜ ìƒìœ„(ë¶€ëª¨) ê°ì²´ì˜ ì—­í• ì„ í•˜ëŠ” ê°ì²´ë‹¤.
> í”„ë¡œí† íƒ€ì…ì€ í•˜ìœ„(ìì‹) ê°ì²´ì—ê²Œ ìì‹ ì€ í”„ë¡œí¼í‹°ì™€ ë©”ì„œë“œë¥¼ ìƒì†í•œë‹¤.
> í”„ë¡œí† íƒ€ì… ê°ì²´ì˜ í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ìƒì†ë°›ì€ í•˜ìœ„ ê°ì²´ëŠ” ìì‹ ì˜ í”„ë¡œí¼í‹° ë˜ëŠ” ë©”ì„œë“œì¸ ê²ƒì²˜ëŸ¼ ììœ ë¡­ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

í”„ë¡œí† íƒ€ì… ì²´ì¸ì€ í”„ë¡œí† íƒ€ì…ì´ ë‹¨ë°©í–¥ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ì—°ê²°ë˜ì–´ ìˆëŠ” ìƒì† êµ¬ì¡°ë¥¼ ë§í•œë‹¤.
ê°ì²´ì˜ í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œì— ì ‘ê·¼í•˜ë ¤ê³  í•  ë•Œ, í•´ë‹¹ ê°ì²´ì— ì ‘ê·¼í•˜ë ¤ëŠ” í”„ë¡œí¼í‹° ë˜ëŠ” ë©”ì„œë“œê°€ ì—†ë‹¤ë©´ í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ ë”°ë¼ ê²€ìƒ‰í•œë‹¤.

>

### ì ‘ê·¼ì í”„ë¡œí¼í‹°ì™€ ë°ì´í„° í”„ë¡œí¼í‹° êµ¬ë³„

```jsx
// ì¼ë°˜ ê°ì²´ì˜ __proto__ëŠ” ì ‘ê·¼ì í”„ë¡œí¼í‹°ë‹¤.
Object.getOwnPropertyDescriptor(Object.prototype, "__proto__");
// {get: f, set: f, enumerable: false, configurable: true}

// í•¨ìˆ˜ ê°ì²´ì˜ prototypeì€ ë°ì´í„° í”„ë¡œí¼í‹°ë‹¤
Object.getOwnPropertyDescriptor(function () {}, "prototype");
// {value: {...}, writable: true, enumerable: false, configurable: false}
```

## í”„ë¡œí¼í‹° ì •ì˜

- í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” ìƒˆë¡œìš´ í”„ë¡œí¼í‹°ë¥¼ ì •ì˜í•  ë•Œ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•˜ê±°ë‚˜, ê¸°ì¡´ í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì¬ì •ì˜í•  ìˆ˜ ìˆë‹¤.
- `Object.defineProperty`,Â `Object.defineProperties`Â ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜í•œë‹¤.
- ë§Œì•½ ìƒëµí•œë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê¸°ë³¸ê°’ì„ ê°€ì§„ë‹¤.
  | í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ | ë””ìŠ¤í¬ë¦½í„° ê°ì²´ í”„ë¡œí¼í‹° | ê¸°ë³¸ê°’ |
  | ------------------- | ------------------------ | --------- |
  | `[[Configurable]]` | configurable | false |
  | `[[Enumerable]]` | enumerable | false |
  | `[[Value]]` | value | undefined |
  | `[[Writable]]` | writable | false |
  | `[[Get]]` | get | undefined |
  | `[[Set]]` | set | undefined |

```jsx
const person = {};

Object.defineProperty(person, "firstName", {
  value: "Heejun",
  writable: true,
  enumerable: true,
  configurable: true,
});
Object.defineProperty(person, "lastName", {
  value: "Jeon",
});

// ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ëˆ„ë½í•˜ê³  ì •ì˜í•œ lastNameì€ undefined,falseê°€ ê¸°ë³¸ê°’ì´ëœë‹¤.
let descriptor = Object.getOwnPropertyDescriptor(person, "lastName");
console.log("lastName", descriptor);
// lastName {value: "Kim", writable: false, enumerable: false configurable : false}

// [[Enumerable]]
// Enumerableì´ falseì¸ ê²½ìš° for...in, Object.keys ë“±ìœ¼ë¡œ ì—´ê±°í•  ìˆ˜ ì—†ë‹¤.
// lastName propertyëŠ” [[Enumerable]]ê°’ì´ falseì´ë¯€ë¡œ ì—´ê±°ë˜ì§€ ì•ŠëŠ”ë‹¤.
console.log(Object.keys(person)); // ["firstName"]

// [[Writable]]
// Writableì´ falseì¸ ê²½ìš° í•´ë‹¹ í”„ë¡œí¼í‹°ì˜ Value ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.
// lastNameì€ falseì´ë¯€ë¡œ ê°’ì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤. ì—ëŸ¬ëŠ” ë°œìƒí•˜ì§€ ì•Šê³  ë¬´ì‹œëœë‹¤.
person.lastName = "Lee"; // ë¬´ì‹œëœë‹¤.

// [[Configurable]]
// Configurableì´ falseì¸ ê²½ìš° ê°’ì„ ì‚­ì œí•˜ê±°ë‚˜ ì¬ì •ì˜ í•  ìˆ˜ ì—†ë‹¤.
// lastNameì€ falseì´ë¯€ë¡œ ê°’ì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤. ì—ëŸ¬ëŠ” ë°œìƒí•˜ì§€ ì•Šê³  ë¬´ì‹œëœë‹¤.
delete person.lastName; // ë¬´ì‹œëœë‹¤.
Object.defineProperty(person, "lastName", { enumerable: true });
// output : Uncaught TypeError: Cannot redefine property: lastName

// ì ‘ê·¼ì í”„ë¡œí¼í‹° ì •ì˜
Object.defineProperty(person, "fullName", {
  get() {
    return `${this.firstName} ${this.lastName}`;
  },
  set(name) {
    [this.firstName, this.lastName] = name.split(" ");
  },
  enumerable: true,
  configurable: true,
});

descriptor = Object.getOwnPropertyDescriptor(person, "fullName");
console.log("fullName", descriptor);
// fullName {get: f, set: f, enumerable: true, configurable: true}

person.fullName = "Minsu Kim";
console.log(person); // { firstName: "Minsu" lastName: "Kim"}
```

- `Object.getOwnpropertyDescriptors`ì™€ ê°™ì´ `Object.defineProperties`ë¥¼ í†µí•´ ì—¬ëŸ¬ ê°œì˜ í”„ë¡œí¼í‹°ë¥¼ í•œ ë²ˆì— ì •ì˜í•  ìˆ˜ ìˆë‹¤.

## ê°ì²´ ë³€ê²½ ë°©ì§€

| êµ¬ë¶„                     | ì¶”ê°€ | ì‚­ì œ | ì½ê¸° | ì“°ê¸° | ì¬ì •ì˜ |
| ------------------------ | ---- | ---- | ---- | ---- | ------ |
| Object.preventExtensions | X    | O    | O    | O    | O      |
| Object.seal              | X    | X    | O    | O    | X      |
| Object.freeze            | X    | X    | O    | X    | X      |

- ì§ì† í”„ë¡œí¼í‹°ë§Œ ë³€ê²½ì´ ë°©ì§€ë˜ê³  ì¤‘ì²© ê°ì²´ê¹Œì§€ëŠ” ì˜í–¥ì„ ì£¼ì§€ ëª»í•œë‹¤!

### ê°ì²´ í™•ì¥ ê¸ˆì§€ (`Object.preventExtensions`)

- ìƒˆë¡œìš´ í”„ë¡œí¼í‹°ê°€ ê°ì²´ì— ì¶”ê°€ë˜ëŠ” ê²ƒì„ ë°©ì§€í•œë‹¤. ì¦‰, ì¥ë˜ì˜ í™•ì¥ì„ ë°©ì§€í•œë‹¤. (ì‚­ì œëŠ” ê°€ëŠ¥)
- í”„ë¡œí¼í‹°ëŠ” ë™ì  ì¶”ê°€ì™€Â `ObjectdefineProperty`Â ë©”ì„œë“œë¡œ ì¶”ê°€í•  ìˆ˜ ìˆëŠ”ë° ì´ ë‘ ê°€ì§€ê°€ ëª¨ë‘ ê¸ˆì§€ëœë‹¤.
- ê°ì²´ê°€ í™•ì¥ ê°€ëŠ¥ ê°ì²´ì¸ì§€ ì—¬ë¶€ëŠ”Â `Object.isExtensible`Â ë©”ì„œë“œë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```jsx
const person = { name: "Lee" };

// person ê°ì²´ëŠ” í™•ì¥ì´ ê¸ˆì§€ëœ ê°ì²´ê°€ ì•„ë‹ˆë‹¤.
console.log(Object.isExtensible(person)); // true

// person ê°ì²´ì˜ í™•ì¥ì„ ê¸ˆì§€í•´ ë³´ê² ë‹¤.
Object.preventExtensions(person);

// ì´ì œ person ê°ì²´ëŠ” í™•ì¥ì´ ê¸ˆì§€ëœ ìƒíƒœë‹¤.
console.log(Object.isExtensible(person)); // false

// í”„ë¡œí¼í‹° ì¶”ê°€ê°€ ê¸ˆì§€ëœë‹¤.
person.age = 20; // ë¬´ì‹œ, strict modeì—ì„œëŠ” error ë°œìƒ
console.log(person); // {name: "Lee"}

// í”„ë¡œí¼í‹° ì‚­ì œëŠ” ê°€ëŠ¥í•˜ë‹¤.
delete person.name;
console.log(person); // {}

// í”„ë¡œí¼í‹° ì •ì˜ì— ì˜í•œ í”„ë¡œí¼í‹° ì¶”ê°€ë„ ê¸ˆì§€ëœë‹¤.
Object.defineProperty(person, "age", { value: 20 });
// TypeError: Cannot define property age, object is not extensible
```

### ê°ì²´ ë°€ë´‰ (`Object.seal`)

- ê°ì²´ë¥¼ ë°€ë´‰í•œë‹¤. ì¦‰, í”„ë¡œí¼í‹° ì¶”ê°€ ë° ì‚­ì œì™€ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì¬ì •ì˜ ê¸ˆì§€ë¥¼ ì˜ë¯¸í•œë‹¤
- **ë°€ë´‰ëœ ê°ì²´ëŠ” ì½ê¸°ì™€ ì“°ê¸°ë§Œ ê°€ëŠ¥í•˜ë‹¤.**
- ë°€ë´‰ëœ ê°ì²´ì¸ì§€ ì—¬ë¶€ëŠ” `Object.isSealed` ë©”ì„œë“œë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```jsx
const person = { name: "Lee" };

// person ê°ì²´ëŠ” ë°€ë´‰(seal)ëœ ê°ì²´ê°€ ì•„ë‹ˆë‹¤.
console.log(Object.isSealed(person)); // false

// person ê°ì²´ë¥¼ ë°€ë´‰í•´ ë³´ê² ë‹¤ (ì¶”ê°€, ì‚­ì œ, ì¬ì •ì˜ ê¸ˆì§€)
Object.seal(person);

// ì´ì œ person ê°ì²´ëŠ” ë°€ë´‰ëœ ìƒíƒœë‹¤.
console.log(Object.isSealed(person)); // true

// ë°€ë´‰(seal)ëœ ê°ì²´ëŠ” configurableì´ falseë‹¤
console.log(Object.getOwnPropertyDescriptors(person));
/*
{
	name: {value: "Lee", writable: true, enumerable: true, configurable: false},
}
*/

// í”„ë¡œí¼í‹° ì¶”ê°€ê°€ ê¸ˆì§€ëœë‹¤.
person.age = 20; // ë¬´ì‹œ, strict modeì—ì„œëŠ” error ë°œìƒ
console.log(person); // {name: "Lee"}

// í”„ë¡œí¼í‹° ì‚­ì œê°€ ê¸ˆì§€ëœë‹¤.
delete person.name; // ë¬´ì‹œ, strict modeì—ì„œëŠ” error ë°œìƒ
console.log(person); // {name: "Lee"}

// í”„ë¡œí¼í‹° ê°’ ê°±ì‹ ì€ ê°€ëŠ¥í•˜ë‹¤.
person.name = "Kim";
console.log(person); // {name: "Kim"}

// í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì¬ì •ì˜ê°€ ê¸ˆì§€ëœë‹¤.
Object.defineProperty(person, "name", { configurable: true });
// TypeError: Cannot redefine property: name
```

### ë¶ˆë³€ ê°ì²´ (`Object.freeze`)

- ê°ì²´ë¥¼ ë™ê²°í•œë‹¤. ë™ê²°ëœ ê°ì²´ëŠ” ëª¨ë“  ê²ƒì´ ê¸ˆì§€ë˜ê³  ì½ê¸°ë§Œ ê°€ëŠ¥í•˜ë‹¤.
- ê°ì²´ì˜ ë™ê²° ì—¬ë¶€ëŠ”Â `Object.isFrozen`Â ë©”ì„œë“œë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤

```jsx
const person = {
  name: "Lee",
  address: { city: "Seoul" },
};

// ì–•ì€ ê°ì²´ ë™ê²°
Object.freeze(person);

// ì§ì† í”„ë¡œí¼í‹°ë§Œ ë™ê²°í•œë‹¤.
console.log(Object.isFrozen(person)); // true

// ì¤‘ì²© ê°ì²´ê¹Œì§€ ë™ê²°í•˜ì§€ ëª»í•œë‹¤.
console.log(Object.isFrozen(person.address)); // false

person.address.city = "Busan";
console.log(person); // {name: "Lee", address: {city: "Busan"}}
```

---

- \***\*ì§€ê¸ˆê¹Œì§€ ì‚´í´ë³¸ ë³€ê²½ ë°©ì§€ ë©”ì„œë“œë“¤ì€ ì–•ì€ ë³€ê²½ ë°©ì§€ë¡œ ì§ì† í”„ë¡œí¼í‹°ë§Œ ë³€ê²½ì´ ë°©ì§€ë˜ê³  ì¤‘ì²© ê°ì²´ê¹Œì§€ëŠ” ì˜í–¥ì„ ì£¼ì§€ ëª»í•œë‹¤. ë”°ë¼ì„œ\*\*** `Object.freeze` \***\*ë©”ì„œë“œë¡œ ê°ì²´ë¥¼ ë™ê²°í•˜ì—¬ë„ ì¤‘ì²© ê°ì²´ê¹Œì§€ ë™ê²°í•  ìˆ˜ ì—†ë‹¤.\*\***
- ê°ì²´ì˜ ì¤‘ì²© ê°ì²´ê¹Œì§€ ë™ê²°í•˜ì—¬ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•œ ì½ê¸° ì „ìš©ì˜ ë¶ˆë³€ ê°ì²´ë¥¼ êµ¬í˜„í•˜ë ¤ë©´ **ê°ì²´ë¥¼ ê°’ìœ¼ë¡œ ê°–ëŠ”** **ëª¨ë“  í”„ë¡œí¼í‹°ì— ëŒ€í•´** **ì¬ê·€ì ìœ¼ë¡œ** `Object.freeze` **ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤.**

```jsx
function deepFreeze(target) {
  //ê°ì²´ê°€ ì•„ë‹ˆê±°ë‚˜ ë™ê²°ëœ ê°ì²´ëŠ” ë¬´ì‹œí•˜ê³  ê°ì²´ì´ê³  ë™ê²°ë˜ì§€ ì•Šì€ ê°ì²´ë§Œ ë™ê²°í•œë‹¤
  if (target && typeof target === "object" && !Object.isFrozen(target)) {
    Object.freeze(target);
    // ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ ìˆœíšŒí•˜ë©° ì¬ê·€ì ìœ¼ë¡œ ë™ê²°í•œë‹¤
    Object.keys(target).forEach((key) => deepFreeze(taget[key]));
  }
  return target;
}

const person = {
  name: "Lee",
  address: { city: "Seoul" },
};

// ê¹Šì€ ê°ì²´ ë™ê²°
deepFreeze(person);

console.log(Object.isFrozen(person)); // true
console.log(Object.isFrozen(person.address)); // true

person.address.city = "Busan";
console.log(person); //{name: "Lee", address: {city: "Seoul"}
```
