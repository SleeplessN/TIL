# 26μ¥. ES6 ν•¨μμ μ¶”κ°€ κΈ°λ¥

## ν•¨μμ κµ¬λ¶„

- ES6 μ΄μ „μ λ¨λ“  ν•¨μλ” μΌλ° ν•¨μ νΈμ¶, μƒμ„±μ ν•¨μ νΈμ¶ λ¨λ‘ κ°€λ¥ν•λ‹¤.
- μ¦‰, ES6 μ΄μ „μ λ¨λ“  ν•¨μλ” callableμ΄λ©΄μ„ constructorμ΄λ‹¤.
- λ‹¨μ 
  - μ‚¬μ© λ©μ μ— λ”°λΌ λ…ν™•ν• κµ¬λ¶„μ΄ μ—†μΌλ―€λ΅ νΈμ¶ λ°©μ‹μ— νΉλ³„ν• μ μ•½μ΄ μ—†μ–΄ **μ‹¤μλ¥Ό μ λ°ν•  κ°€λ¥μ„±μ΄ μλ‹¤**
  - μƒμ„±μ ν•¨μλ΅ νΈμ¶λμ§€ μ•μ•„λ„ ν”„λ΅ν† νƒ€μ… κ°μ²΄λ¥Ό μƒμ„±ν•λ―€λ΅ **μ„±λ¥λ©΄μ—μ„ μΆ‹μ§€ μ•λ‹¤.**
- **ES6μ—μ„λ” ν•¨μλ¥Ό μ‚¬μ© λ©μ μ— λ”°λΌ μ„Έ κ°€μ§€ μΆ…λ¥λ΅ λ…ν™•ν κµ¬λ¶„**ν•λ‹¤.
  | ES6 ν•¨μμ κµ¬λ¶„    | constructor | protptype | super | arguments |
  | ------------------ | ----------- | --------- | ----- | --------- |
  | μΌλ° ν•¨μ(Nomal)   | O           | O         | X     | O         |
  | λ©”μ„λ“(Method)     | X           | X         | O     | O         |
  | ν™”μ‚΄ν‘ ν•¨μ(Arrow) | X           | X         | X     | X         |

## λ©”μ„λ“

> ES6 μ‚¬μ–‘μ—μ„ λ©”μ„λ“λ” **λ©”μ„λ“ μ¶•μ•½ ν‘ν„**μΌλ΅ μ •μλ ν•¨μλ§μ„ μλ―Έν•λ‹¤.

- ES6 μ‚¬μ–‘μ—μ„ μ •μν• λ©”μ„λ“λ” μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•  μ μ—†λ” non-constructorμ΄λ‹¤.
  - μ¦‰, μƒμ„±μ ν•¨μλ΅μ„ νΈμ¶ν•  μ μ—†λ‹¤.
  - μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•  μ μ—†μΌλ―€λ΅ prototype ν”„λ΅νΌν‹°κ°€ μ—†κ³  ν”„λ΅ν† νƒ€μ…λ„ μƒμ„±ν•μ§€ μ•λ”λ‹¤.

> π–Β **μ°Έκ³ **
> ν‘μ¤€ λΉνΈμΈ κ°μ²΄κ°€ μ κ³µν•λ” ν”„λ΅ν† νƒ€μ… λ©”μ„λ“μ™€ μ •μ  λ©”μ„λ“λ” λ¨λ‘ non-constructorλ‹¤.

- ES6 λ©”μ„λ“λ” μμ‹ μ„ λ°”μΈλ”©ν• κ°μ²΄λ¥Ό κ°€λ¦¬ν‚¤λ” λ‚΄λ¶€ μ¬λ΅― `[[HomeObject]]`λ¥Ό κ°–λ”λ‹¤
  - super μ°Έμ΅°λ” `[[HomeObject]]`λ¥Ό μ‚¬μ©ν•μ—¬ μνΌν΄λμ¤μ λ©”μ„λ“λ¥Ό μ°Έμ΅°ν•λ‹¤.

## ν™”μ‚΄ν‘ ν•¨μ

> ν™”μ‚΄ν‘ ν•¨μλ¥Ό μ‚¬μ©ν•λ©΄ κΈ°μ΅΄μ ν•¨μ μ •μ λ°©μ‹λ³΄λ‹¤ κ°„λµν•κ² ν•¨μλ¥Ό μ •μν•  μ μλ‹¤.

- ν™”μ‚΄ν‘ ν•¨μλ” ν‘ν„λ§ κ°„λµν• κ²ƒμ΄ μ•„λ‹ λ‚΄λ¶€ λ™μ‘λ„ κ°„λµν•λ‹¤
- ν™”μ‚΄ν‘ ν•¨μλ” μ½λ°± ν•¨μ λ‚΄λ¶€μ—μ„ μ „μ—­ κ°μ²΄λ¥Ό κ°€λ¦¬ν‚¤λ” λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν• λ€μ•μΌλ΅ μ μ©ν•λ‹¤

### ν™”μ‚΄ν‘ ν•¨μ μ •μ

1. **ν•¨μ μ •μ**

   - ν™”μ‚΄ν‘ ν•¨μλ” ν•¨μ μ„ μ–Έλ¬ΈμΌλ΅ μ •μν•  μ μ—†κ³  **ν•¨μ ν‘ν„μ‹μΌλ΅ μ •μν•΄μ•Ό ν•λ‹¤.**

   ```jsx
   const multiply = (x, y) => x * y;
   multiply(2, 3); // 6
   ```

1. **λ§¤κ°λ³€μ μ„ μ–Έ**

   ```jsx
   // λ§¤κ°λ³€μκ°€ μ—¬λ¬κ°μΈ κ²½μ°
   const arrow = (x, y) => { ... };

   // λ§¤κ°λ³€μκ°€ ν•λ‚μΈ κ²½μ° () μƒλµ κ°€λ¥
   const arrow = x => { ... };

   // λ§¤κ°λ³€μκ°€ μ—†λ” κ²½μ° ()λ¥Ό μƒλµ λ¶κ°€
   const arrow = () => { ... };
   ```

1. **ν•¨μ λΈμ²΄ μ •μ**

   - ν•¨μ λΈμ²΄κ°€Β **ν•λ‚μ λ¬ΈμΌλ΅ κµ¬μ„±λλ‹¤λ©΄ ν•¨μ λΈμ²΄λ¥Ό κ°μ‹Έλ” μ¤‘κ΄„νΈΒ `{}`λ¥Ό μƒλµ**ν•  μ μλ‹¤.
   - μ΄λ•Β **ν•¨μ λΈμ²΄ λ‚΄λ¶€μ λ¬Έμ΄ κ°’μΌλ΅ ν‰κ°€λ  μ μλ” ν‘ν„μ‹μΈ λ¬Έμ΄λΌλ©΄ μ•”λ¬µμ μΌλ΅ λ°ν™**λλ‹¤.
   - ν•¨μ λΈμ²΄μ λ¬Έμ΄ ν‘ν„μ‹μ΄ μ•„λ‹ λ¬Έμ΄λΌλ©΄ μ¤‘κ΄„νΈλ¥Ό μƒλµν•  μ μ—†λ‹¤.

   ```jsx
   // concise body
   const power = (x) => x ** 2;
   power(2); // -> 4

   // μ„ ν‘ν„μ€ λ‹¤μκ³Ό λ™μΌν•λ‹¤.
   // block body
   const power = (x) => {
     return x ** 2;
   };
   ```

   - **κ°μ²΄ λ¦¬ν„°λ΄μ„ λ°ν™ν•λ” κ²½μ°**Β κ°μ²΄ λ¦¬ν„°λ΄μ„ μ†κ΄„νΈΒ `()`λ΅ κ°μ‹Έμ£Όμ–΄μ•Ό ν•λ‹¤.

   ```jsx
   const create = (id, content) => ({ id, content });
   create(1, "JavaScript"); // -> {id: 1, content: "JavaScript"}

   // μ„ ν‘ν„μ€ λ‹¤μκ³Ό λ™μΌν•λ‹¤.
   const create = (id, content) => {
     return { id, content };
   };
   ```

   - ν•¨μ λΈμ²΄κ°€ μ—¬λ¬ κ°μ λ¬ΈμΌλ΅ κµ¬μ„±λλ‹¤λ©΄ ν•¨μ λΈμ²΄λ¥Ό κ°μ‹Έλ” μ¤‘κ΄„νΈΒ `{}`λ¥Ό μƒλµν•  μ μ—†κ³ , μ΄λ• λ°ν™ κ°’μ΄ μλ‹¤λ©΄ λ…μ‹μ μΌλ΅ λ°ν™ν•΄μ•Ό ν•λ‹¤.

   ```jsx
   // ν•¨μκ°€ μ—¬λ¬ κ°μ λ¬ΈμΌλ΅ κµ¬μ„±λλ‹¤λ©΄ μ¤‘κ΄„νΈ {}λ¥Ό μƒλµν•  μ μ—†λ‹¤. λ°ν™κ°’μ€ λ…μ‹μ μΌλ΅ λ°ν™ν•΄μ•Ό ν•λ‹¤.
   const sum = (a, b) => {
     const result = a + b;
     return result;
   };
   ```

   - ν™”μ‚΄ν‘ ν•¨μλ„ **μ¦‰μ‹ μ‹¤ν–‰ ν•¨μ**λ΅ μ‚¬μ©ν•  μ μλ‹¤.

   ```jsx
   const person = ((name) => ({
     sayHi() {
       return `Hi? My name is ${name}.`;
     },
   }))("Lee");

   console.log(person.sayHi()); // Hi? My name is Lee
   ```

   - ν™”μ‚΄ν‘ ν•¨μλ„ μΌκΈ‰ κ°μ²΄μ΄λ―€λ΅ κ³ μ°¨ ν•¨μ(`Array.prototype.map`, `Array.prototype.filter`, `Array.prototype.reduce`)μ— μΈμλ΅ μ „λ‹¬ν•  μ μλ‹¤.

   ```jsx
   // ES5
   [1, 2, 3].map(function (v) {
     return v * 2;
   });

   // ES6
   [1, 2, 3].map((v) => v * 2); // [2, 4, 6]
   ```

   - μ΄μ²λΌ ν™”μ‚΄ν‘ ν•¨μλ” μ½λ°± ν•¨μλ΅μ„ μ •μν•  λ• ν‘ν„μ΄ κ°„κ²°ν•κ³  κ°€λ…μ„±μ΄ μΆ‹λ‹¤.

### ν™”μ‚΄ν‘ ν•¨μμ™€ μΌλ° ν•¨μμ μ°¨μ΄

1.  **ν™”μ‚΄ν‘ ν•¨μλ”Β μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•  μ μ—†λ”Β `non-constructor`λ‹¤.**
    - κ·Έλ¬λ―€λ΅Β `prototype`ν”„λ΅νΌν‹°κ°€ μ—†κ³  ν”„λ΅ν† νƒ€μ…λ„ μƒμ„±ν•μ§€ μ•λ”λ‹¤.
2.  ν™”μ‚΄ν‘ ν•¨μλ” **μ¤‘λ³µλ λ§¤κ°λ³€μ μ΄λ¦„μ„ μ„ μ–Έν•  μ μ—†λ‹¤.**
3.  **ν™”μ‚΄ν‘ ν•¨μλ”Β ν•¨μ μμ²΄μ `this`,Β `arguments`,Β `super`,Β `new.target`Β λ°”μΈλ”©μ„ κ°–μ§€μ•λ”λ‹¤.**
    - λ”°λΌμ„ ν™”μ‚΄ν‘ ν•¨μλ¥Ό μ‚¬μ©ν•λ©΄ μ¤μ½”ν”„ μ²΄μΈμ„ ν†µν•΄ **μƒμ„ μ¤μ½”ν”„μ `this`,Β `arguments`,Β `super`,Β `new.target`λ¥Ό μ°Έμ΅°**ν•λ‹¤.

### this

> **ν™”μ‚΄ν‘ ν•¨μκ°€ μΌλ° ν•¨μμ™€ κµ¬λ³„λλ” κ°€μ¥ ν° νΉμ§•μ€ `this`μ΄λ‹¤.**

- ν™”μ‚΄ν‘ ν•¨μμ thisλ” μΌλ° ν•¨μμ thisμ™€ λ‹¤λ¥΄κ² λ™μ‘ν•λ‹¤.
  - ν™”μ‚΄ν‘ ν•¨μλ” λ‹¤λ¥Έ ν•¨μμ μΈμλ΅ μ „λ‹¬λμ–΄ μ½λ°± ν•¨μλ΅ μ‚¬μ©λλ” κ²½μ°κ°€ λ§λ‹¤.
  - ν™”μ‚΄ν‘ ν•¨μμ thisλ” μ½λ°± ν•¨μ λ‚΄λ¶€μ this λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ μλ„μ μΌλ΅ μ„¤κ³„ λμ—λ‹¤.

> β­οΈ **`lexical this`λ€?**
> **ν™”μ‚΄ν‘ ν•¨μλ” ν•¨μ μμ²΄μ `this` λ°”μΈλ”©μ„ κ°–μ§€ μ•λ”λ‹¤.**
> λ”°λΌμ„ **ν™”μ‚΄ν‘ ν•¨μ λ‚΄λ¶€μ—μ„ `this` μ°Έμ΅°ν•λ©΄ μƒμ„ μ¤μ½”ν”„μ `this`λ¥Ό κ·Έλ€λ΅ μ°Έμ΅°ν•λ‹¤.**
> λ ‰μ‹μ»¬ μ¤μ½”ν”„μ™€ κ°™μ΄ **`thid`κ°€ ν•¨μκ°€ μ •μλ μ„μΉμ— μν•΄ κ²°μ •**λλ‹¤λ” κ²ƒμ„ μλ―Έν•λ‹¤

### super

- **ν™”μ‚΄ν‘ ν•¨μλ” ν•¨μ μμ²΄μΒ `super`Β λ°”μΈλ”©μ„ κ°–μ§€ μ•λ”λ‹¤.**
  - λ”°λΌμ„ ν™”μ‚΄ν‘ ν•¨μ λ‚΄λ¶€μ—μ„Β `super`λ¥Ό μ°Έμ΅°ν•λ©΄Β `this`μ™€ λ§μ°¬κ°€μ§€λ΅Β **μƒμ„ μ¤μ½”ν”„μΒ `super`λ¥Ό μ°Έμ΅°**ν•λ‹¤.

```jsx
class Base {
  constructor(name) {
    this.name = name;
  }

  sayHi() {
    return `Hi! ${this.name}`;
  }
}

class Derived extends Base {
  // ν™”μ‚΄ν‘ ν•¨μμ superλ” μƒμ„ μ¤μ½”ν”„μΈ constructorμ superλ¥Ό κ°€λ¦¬ν‚¨λ‹¤.
  sayHi = () => `${super.sayHi()} how are you doing?`;
}

const derived = new Derived("April");
console.log(derived.sayHi()); // Hi! April how are you doing?
```

### arguments

- **ν™”μ‚΄ν‘ ν•¨μλ” ν•¨μ μμ²΄μ `arguments` λ°”μΈλ”©μ„ κ°–μ§€ μ•λ”λ‹¤.**
  - λ”°λΌμ„ ν™”μ‚΄ν‘ ν•¨μ λ‚΄λ¶€μ—μ„ `arguments`λ¥Ό μ°Έμ΅°ν•λ©΄ `this`μ™€ λ§μ°¬κ°€μ§€λ΅ **μƒμ„ μ¤μ½”ν”„μ `arguments`λ¥Ό μ°Έμ΅°ν•λ‹¤.**

## Rest νλΌλ―Έν„°

> **Rest νλΌλ―Έν„°**(λ‚λ¨Έμ§€ νλΌλ―Έν„°)λ” λ§¤κ°λ³€μ μ΄λ¦„ μ•μ— μ„Έκ°μ μ  `β€¦`μ„ λ¶™μ—¬μ„ μ •μν• λ§¤κ°λ³€μλ¥Ό μλ―Έν•λ‹¤.

### κΈ°λ³Έ λ¬Έλ²•

- **Rest νλΌλ―Έν„°λ” ν•¨μμ— μ „λ‹¬λ μΈμλ“¤μ λ©λ΅μ„ λ°°μ—΄λ΅ μ „λ‹¬λ°›λ”λ‹¤.**
  ```jsx
  function foo(...rest) {
    // λ§¤κ°λ³€μ restλ” μΈμλ“¤μ λ©λ΅μ„ λ°°μ—΄λ΅ μ „λ‹¬λ°›λ” Rest νλΌλ―Έν„°λ‹¤.
    console.log(rest); // [ 1, 2, 3, 4, 5 ]
  }

  foo(1, 2, 3, 4, 5);
  ```
- μΌλ° λ§¤κ°λ³€μμ™€Β `Rest`νλΌλ―Έν„°λ” ν•¨κ» μ‚¬μ©ν•  μ μμΌλ©°Β **`Rest`Β νλΌλ―Έν„°λ” λ°λ“μ‹ λ§μ§€λ§‰ νλΌλ―Έν„°**
  μ΄μ–΄μ•Ό ν•λ‹¤.
      ```jsx
      function bar(param1, param2, ...rest) {
        console.log(param1); // 1
        console.log(param2); // 2
        console.log(rest);   // [ 3, 4, 5 ]
      }
      bar(1, 2, 3, 4, 5);

      function foo(...rest, param1, param2) { }
      foo(1, 2, 3, 4, 5);
      // SyntaxError: Rest parameter must be last formal parameter
      ```
- **`Rest`Β νλΌλ―Έν„°λ” λ‹¨ ν•λ‚λ§ μ„ μ–Έν•  μ μλ‹¤.**
  ```jsx
  function foo(...rest1, ...rest2) { }

  foo(1, 2, 3, 4, 5);
  // SyntaxError: Rest parameter must be last formal parameter
  ```
- `Rest`Β νλΌλ―Έν„°λ” ν•¨μ μ •μ μ‹ μ„ μ–Έν• λ§¤κ°λ³€μ κ°μλ¥Ό λ‚νƒ€λ‚΄λ”Β **ν•¨μ κ°μ²΄μΒ `length`Β ν”„λ΅νΌν‹°μ— μν–¥μ„ μ£Όμ§€ μ•λ”λ‹¤.**
  ```jsx
  function foo(...rest) {}
  console.log(foo.length); // 0

  function bar(x, ...rest) {}
  console.log(bar.length); // 1

  function baz(x, y, ...rest) {}
  console.log(baz.length); // 2
  ```

### Rest νλΌλ―Έν„°μ™€ arguments κ°μ²΄

- ES5
  - κ°€λ³€ μΈμ ν•¨μμ κ²½μ° `arguments` κ°μ²΄λ¥Ό ν™μ©ν•μ—¬ μΈμλ¥Ό μ „λ‹¬ λ°›μ•λ‹¤.
  - μ΄ `arguments` μ μ‚¬ λ°°μ—΄ κ°μ²΄μ΄κΈ° λ•λ¬Έμ— λ°°μ—΄ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ ¤λ©΄ `call` μ΄λ‚ `apply` λ©”μ„λ“λ¥Ό ν™μ©ν•μ—¬ λ°°μ—΄λ΅ λ³€ν™ν•΄μ•Ό ν–λ‹¤
- **ES6**
  - **`Rest`Β νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•μ—¬ κ°€λ³€ μΈμ ν•¨μμ μΈμ λ©λ΅μ„ λ°°μ—΄λ΅ μ§μ ‘ μ „λ‹¬ λ°›μ„ μ μλ‹¤.**
  - **ν™”μ‚΄ν‘ ν•¨μλ΅ κ°€λ³€ μΈμ ν•¨μλ¥Ό κµ¬ν„ν•΄μ•Ό ν•  λ•λ” λ°λ“μ‹Β `Rest`Β νλΌλ―Έν„°λ¥Ό μ‚¬μ©**ν•΄μ•Ό ν•λ‹¤
    - ν™”μ‚΄ν‘ ν•¨μλ”Β `arguments`Β κ°μ²΄λ¥Ό κ°€μ§€κ³  μμ§€ μ•κΈ° λ•λ¬Έ.
  ```jsx
  function sum(...args) {
    // Rest νλΌλ―Έν„° argsμ—λ” λ°°μ—΄ [1, 2, 3, 4, 5]κ°€ ν• λ‹Ήλλ‹¤.
    return args.reduce((pre, cur) => pre + cur, 0);
  }
  console.log(sum(1, 2, 3, 4, 5)); // 15
  ```

## λ§¤κ°λ³€μ κΈ°λ³Έκ°’

- μλ°”μ¤ν¬λ¦½νΈ μ—”μ§„μ΄ λ§¤κ°λ³€μμ κ°μμ™€ μΈμμ κ°μλ¥Ό μ²΄ν¬ν•μ§€ μ•λ”λ‹¤.
- **μΈμκ°€ μ „λ‹¬λμ§€ μ•μ€ λ§¤κ°λ³€μμ κ°’μ€Β `undefined`λ‹¤**
- **ES6μ—μ„ λ„μ…λ λ§¤κ°λ³€μ κΈ°λ³Έκ°’μ„ μ‚¬μ©ν•΄ μΈμ μ²΄ν¬ λ° μ΄κΈ°ν™”**λ¥Ό ν•  μ μλ‹¤.
  - `Rest`Β νλΌλ―Έν„°μ—λ” κΈ°λ³Έκ°’μ„ μ§€μ •ν•  μ μ—†λ‹¤.

```jsx
function sum(x = 0, y = 0) {
  return x + y;
}

console.log(sum(1, 2)); // 3
console.log(sum(1)); // 1
```
