# 44ì¥. REST API

> **REST(REpresentational State Transfer)ëŠ” HTTPë¥¼ ê¸°ë°˜ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì˜ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì„ ê·œì •í•œ ì•„í‚¤í…ì²˜**ë¥¼ ì˜ë¯¸í•˜ê³ ,
**REST APIëŠ” RESTë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„œë¹„ìŠ¤ APIë¥¼ êµ¬í˜„í•œ ê²ƒì„ ì˜ë¯¸**í•œë‹¤.
> 

## REST APIì˜ êµ¬ì„±

- REST APIëŠ” ìì›, í–‰ìœ„, í‘œí˜„ 3ê°€ì§€ ìš”ì†Œë¡œ êµ¬ì„±ëœë‹¤

| êµ¬ì„± ìš”ì†Œ | ë‚´ìš© | í‘œí˜„ ë°©ë²• |
| --- | --- | --- |
| ìì›(resouce) | ìì› | URI(ì—”ë“œí¬ì¸íŠ¸) |
| í–‰ìœ„(verb) | ìì›ì— ëŒ€í•œ í–‰ìœ„ | HTTP ìš”ì²­ ë©”ì„œë“œ |
| í‘œí˜„(representations) | ìì›ì— ëŒ€í•œ í–‰ìœ„ì˜ êµ¬ì²´ì  ë‚´ìš© | í˜ì´ë¡œë“œ |

> ğŸ–Â **í˜ì´ë¡œë“œ(payload)ë€?**
**í˜ì´ë¡œë“œëŠ” ì‚¬ìš©ì— ìˆì–´ì„œ ì „ì†¡ë˜ëŠ” ë°ì´í„°**ë¥¼ ëœ»í•œë‹¤. í˜ì´ë¡œë“œëŠ” ì „ì†¡ì˜ ê·¼ë³¸ì ì¸ ëª©ì ì´ ë˜ëŠ” ë°ì´í„°ì˜ ì¼ë¶€ë¶„ìœ¼ë¡œ ê·¸ ë°ì´í„°ì™€ í•¨ê»˜ ì „ì†¡ë˜ëŠ” í—¤ë”ì™€ ë©”íƒ€ë°ì´í„°ì™€ ê°™ì€ ë°ì´í„°ëŠ” ì œì™¸í•œë‹¤.
> 

## REST API ì„¤ê³„ ì›ì¹™

> RESTì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê¸°ë³¸ì ì¸ ì›ì¹™
> 
> 1. **URIëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ í‘œí˜„**í•˜ëŠ”ë° ì§‘ì¤‘í•´ì•¼ í•œë‹¤.
> 2. **í–‰ìœ„ì— ëŒ€í•œ ì •ì˜ëŠ” HTTP ìš”ì²­ ë©”ì„œë“œ**ë¥¼ í†µí•´ í•œë‹¤.

### 1. URIëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ í‘œí˜„í•´ì•¼ í•œë‹¤.

- **URIëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ í‘œí˜„í•˜ëŠ” ë° ì¤‘ì •ì„ ë‘ì–´ì•¼í•œë‹¤.**
- ë¦¬ì†ŒìŠ¤ë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ì´ë¦„ì€ ë™ì‚¬ë³´ë‹¤ëŠ” ëª…ì‚¬ë¥¼ ì‚¬ìš©í•œë‹¤.

```jsx
# bad
GET /getTodos/1
GET /todos/show/1

# good
GET /todos/1
```

### 2. ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ í–‰ìœ„ëŠ” HTTP ìš”ì²­ ë©”ì„œë“œë¡œ í‘œí˜„í•œë‹¤.

- HTTP ìš”ì²­ ë©”ì„œë“œëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì—ê²Œ ìš”ì²­ì˜ ì¢…ë¥˜ì™€ ëª©ì (ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ í–‰ìœ„)ë¥¼ ì•Œë¦¬ëŠ” ë°©ë²•ì´ë‹¤.
- ì£¼ë¡œ 5ê°€ì§€ ìš”ì²­ ë©”ì„œë“œ(GET, POST, PUT, PATCH, DELETE ë“±)ì„ ì‚¬ìš©í•˜ì—¬ CRUDë¥¼ êµ¬í˜„í•œë‹¤.

> ğŸ–Â **CRUD**
ëŠ” ëŒ€ë¶€ë¶„ì˜Â ì»´í“¨í„° ì†Œí”„íŠ¸ì›¨ì–´ ê°€ ê°€ì§€ëŠ” ê¸°ë³¸ì ì¸ ë°ì´í„° ì²˜ë¦¬ ê¸°ëŠ¥ì¸ **Create(ìƒì„±), Read(ì½ê¸°), Update(ê°±ì‹ ), Delete(ì‚­ì œ)ë¥¼ ë¬¶ì–´ì„œ ì¼ì»«ëŠ” ë§**ì´ë‹¤.
> 

| HTTP ìš”ì²­ ë©”ì„œë“œ | ì¢…ë¥˜ | ëª©ì  | í˜ì´ë¡œë“œ |
| --- | --- | --- | --- |
| GET | index/retrieve | ëª¨ë“ /íŠ¹ì • ë¦¬ì†ŒìŠ¤ ì·¨ë“ | âŒ |
| POST | create | ë¦¬ì†ŒìŠ¤ ìƒì„± | â­•ï¸ |
| PUT | replace | ë¦¬ì†ŒìŠ¤ì˜ ì „ì²´ êµì²´ | â­•ï¸ |
| PATCH | modify | ë¦¬ì†ŒìŠ¤ì˜ ì¼ë¶€ ìˆ˜ì • | â­•ï¸ |
| DELETE | delete | ëª¨ë“ /íŠ¹ì • ë¦¬ì†ŒìŠ¤ ì‚­ì œ | âŒ |
- ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ í–‰ìœ„ëŠ” HTTP ìš”ì²­ ë©”ì„œë“œë¥¼ í†µí•´ í‘œí˜„í•˜ë©° URIì— í‘œí˜„ë˜ì§€ ì•ŠëŠ”ë‹¤.

```jsx
# bad
GET /todos/delete/1

# good
DELETE /todos/1
```

## JSON Serverë¥¼ ì´ìš©í•œ REST API ì‹¤ìŠµ

### 1. JSON Server ì„¤ì¹˜

> JSON ServerëŠ” json íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ê°€ìƒ REST API ì„œë²„ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” íˆ´ì´ë‹¤.
> 
- í„°ë¯¸ë„

```jsx
$ mkdir json-server-exan && cd json-server-exam
$ npm init -y
$ npm install json-server --save-dev
```

### 2. db.json íŒŒì¼ ìƒì„±

> db.json íŒŒì¼ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì—­í• ì„ í•œë‹¤.
> 
- í”„ë¡œì íŠ¸ ë£¨íŠ¸ í´ë”(/json-server-exam)ì— ë‹¤ìŒê³¼ ê°™ì´ db.json íŒŒì¼ì„ ìƒì„±í•œë‹¤

```jsx
{
  "todos": [
    {
      "id": 1,
      "content": "HTML",
      "completed": true
    },
    {
      "id": 2,
      "content": "CSS",
      "completed": false
    },
    {
      "id": 3,
      "content": "Javascript",
      "completed": true
    }
  ]
}
```

- ì‹¤ìŠµ ë¶€ë¶„ì€ [https://poiemaweb.com/js-rest-api](https://poiemaweb.com/js-rest-api) ì°¸ê³ 